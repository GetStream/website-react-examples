(this.webpackJsonpteam=this.webpackJsonpteam||[]).push([[0],{262:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},412:function(e,t,n){},413:function(e,t,n){},414:function(e,t,n){},415:function(e,t,n){},416:function(e,t,n){},417:function(e,t,n){},418:function(e,t,n){},419:function(e,t,n){},420:function(e,t,n){},509:function(e,t,n){},510:function(e,t,n){},511:function(e,t,n){},512:function(e,t,n){},523:function(e,t,n){"use strict";n.r(t);var a=n(35),i=n.n(a),s=n(12),c=n(15),r=n(0),l=n.n(r),d=n(32),o=n(556),u=n(545),j=n(557),h=(n(261),n(262),n.p+"static/media/photo-1438761681033-6461ffad8d80.613ac608.jpeg"),v=n.p+"static/media/photo-1463453091185-61582044d556.3619e52a.jpeg",b=n.p+"static/media/photo-1503467913725-8484b65b0715.95ccd4b9.jpeg",p=n.p+"static/media/photo-1519345182560-3f2917c472ef.a2e6c02e.jpeg",m=n.p+"static/media/photo-1506089676908-3592f7389d4d.56a08c5d.jpeg",O=n.p+"static/media/photo-1507003211169-0a1dd7228f2d.63bee4f7.jpeg",g=n.p+"static/media/photo-1517202383675-eb0a6e27775f.4457c8ec.jpeg",x=n.p+"static/media/photo-1531251445707-1f000e1e87d0.be76211f.jpeg",f=n.p+"static/media/photo-1541271696563-3be2f555fc4e.24ecd158.jpeg",_=n.p+"static/media/photo-1542345812-d98b5cd6cf98.fc631d3d.jpeg",C=n.p+"static/media/photo-1546539782-6fc531453083.a7c849be.jpeg",w=n.p+"static/media/photo-1546623381-d6d69cd69955.84098cf1.jpeg",y=n.p+"static/media/photo-1546820389-44d77e1f3b31.879865ae.jpeg",N=n.p+"static/media/photo-1548946526-f69e2424cf45.c592c0d0.jpeg",L=n.p+"static/media/photo-1549351236-caca0f174515.d2fd8a6e.jpeg",I=n.p+"static/media/photo-1551069613-1904dbdcda11.6380bd9d.jpeg",S=n.p+"static/media/photo-1554384645-13eab165c24b.f45d7937.jpeg",k=n.p+"static/media/photo-1569443693539-175ea9f007e8.da18bfdc.jpeg",E=n.p+"static/media/photo-1573140247632-f8fd74997d5c.79b738bd.jpeg",H=n.p+"static/media/photo-1546456073-6712f79251bb.a031da78.jpeg",M=n.p+"static/media/photo-1502378735452-bc7d86632805.905b3e52.jpeg",T=n.p+"static/media/photo-1546967191-fdfb13ed6b1e.f4b6002c.jpeg",P=n.p+"static/media/photo-1502937406922-305bb2789e95.647d289b.jpeg",V=n.p+"static/media/photo-1552058544-f2b08422138a.ebadf7d3.jpeg",A=n(1),z=function(e){var t=e.setCreateType,n=e.setIsCreating,a=e.setIsEditing,i=e.type;return Object(A.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(){t(i),n((function(e){return!e})),a(!1)},children:Object(A.jsx)("path",{d:"M7 0C3.13438 0 0 3.13438 0 7C0 10.8656 3.13438 14 7 14C10.8656 14 14 10.8656 14 7C14 3.13438 10.8656 0 7 0ZM11 7.5H7.5V11H6.5V7.5H3V6.5H6.5V3H7.5V6.5H11V7.5Z",fill:"white",fillOpacity:"0.66"})})},Z=function(e){var t=e.boldState,n=e.resetIconState,a=e.setBoldState;return Object(A.jsx)("div",{onClick:function(){var e=t;n(),a(!e)},children:Object(A.jsx)("svg",{width:"10",height:"12",viewBox:"0 0 10 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M7.63 5.82C8.46 5.24 9 4.38 9 3.5C9 1.57 7.43 0 5.5 0H0V12H6.25C8.04 12 9.5 10.54 9.5 8.75C9.5 7.45 8.73 6.34 7.63 5.82ZM2.5 2H5.25C6.08 2 6.75 2.67 6.75 3.5C6.75 4.33 6.08 5 5.25 5H2.5V2ZM5.75 10H2.5V7H5.75C6.58 7 7.25 7.67 7.25 8.5C7.25 9.33 6.58 10 5.75 10Z",fill:t?"var(--primary-color)":"black",fillOpacity:t?"1":"0.2"})})})},B=function(){return Object(A.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M8.16602 6.49837H9.83269V4.83171H8.16602V6.49837ZM8.99936 15.665C5.32351 15.665 2.33268 12.6743 2.33268 8.99833C2.33268 5.32253 5.32351 2.33171 8.99936 2.33171C12.6752 2.33171 15.666 5.32253 15.666 8.99833C15.666 12.6743 12.6752 15.665 8.99936 15.665ZM8.99936 0.665039C4.39684 0.665039 0.666016 4.39587 0.666016 8.99833C0.666016 13.6009 4.39684 17.3317 8.99936 17.3317C13.6019 17.3317 17.3327 13.6009 17.3327 8.99833C17.3327 4.39587 13.6019 0.665039 8.99936 0.665039ZM8.16602 13.165H9.83269V8.165H8.16602V13.165Z",fill:"black",fillOpacity:"0.33"})})},D=function(e){var t=e.setIsCreating,n=e.setIsEditing;return Object(A.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(){t&&t(!1),n&&n(!1)},children:Object(A.jsx)("path",{d:"M6.10042 6.10051C0.633603 11.5673 0.633603 20.4327 6.10042 25.8995C11.5672 31.3663 20.4326 31.3663 25.8994 25.8995C31.3662 20.4327 31.3662 11.5673 25.8994 6.10051C20.4326 0.633686 11.5672 0.633685 6.10042 6.10051ZM22.3639 11.0503L17.4141 16L22.3639 20.9497L20.9497 22.364L15.9999 17.4142L11.0502 22.364L9.63596 20.9497L14.5857 16L9.63596 11.0503L11.0502 9.63604L15.9999 14.5858L20.9497 9.63604L22.3639 11.0503Z",fill:"var(--primary-color)"})})},U=function(e){var t=e.closeThread,n=e.setPinsOpen;return Object(A.jsx)("div",{onClick:function(e){t&&t(e),n&&n(!1)},className:"close-thread-icon",children:Object(A.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",children:[Object(A.jsx)("path",{fill:"var(--primary-color)",fillRule:"evenodd",d:"M27.563 25.442L22.12 20l5.442-5.442a1.496 1.496 0 000-2.12 1.496 1.496 0 00-2.121 0L20 17.878l-5.441-5.442a1.496 1.496 0 00-2.121 0 1.496 1.496 0 000 2.121L17.879 20l-5.441 5.442a1.496 1.496 0 000 2.12 1.496 1.496 0 002.12 0L20 22.122l5.442 5.442a1.496 1.496 0 002.12 0 1.504 1.504 0 000-2.121z",clipRule:"evenodd"}),Object(A.jsx)("rect",{width:"39",height:"39",x:"0.5",y:"0.5",stroke:"#E9E9EA",rx:"19.5"})]})})},R=function(e){var t=e.codeState,n=e.resetIconState,a=e.setCodeState;return Object(A.jsx)("div",{onClick:function(){var e=t;n(),a(!e)},children:Object(A.jsx)("svg",{width:"20",height:"12",viewBox:"0 0 20 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M7.4 10.6L2.8 6L7.4 1.4L6 0L0 6L6 12L7.4 10.6ZM12.6 10.6L17.2 6L12.6 1.4L14 0L20 6L14 12L12.6 10.6Z",fill:t?"var(--primary-color)":"black",fillOpacity:t?"1":"0.2"})})})},J=function(){return Object(A.jsxs)("svg",{width:"72",height:"72",viewBox:"0 0 72 72",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(A.jsx)("circle",{cx:"36",cy:"36",r:"36",fill:"var(--primary-color)"}),Object(A.jsx)("path",{d:"M34.5368 33.696H38.5688L37.8548 38.904H33.7808L34.5368 33.696ZM29.2028 42.684L28.0268 51H32.1008L33.2768 42.684H37.3088L36.1748 51H40.2488L41.3828 42.684H45.0368V38.904H41.9288L42.6428 33.696H46.2968V29.916H43.1888L44.3228 21.6H40.2488L39.1148 29.916H35.0408L36.2168 21.6H32.1428L30.9668 29.916H26.9768V33.696H30.4628L29.7068 38.904H25.7168V42.684H29.2028Z",fill:"white"})]})},F=function(){return Object(A.jsx)("div",{style:{marginLeft:"2px"},children:Object(A.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M14 0C6.26875 0 0 6.26875 0 14C0 21.7313 6.26875 28 14 28C21.7313 28 28 21.7313 28 14C28 6.26875 21.7313 0 14 0ZM21.1812 9.31875L12.4875 20.475C12.4187 20.5438 12.3062 20.6938 12.1687 20.6938C12.025 20.6938 11.9313 20.5938 11.85 20.5125C11.7688 20.4313 6.91875 15.7687 6.91875 15.7687L6.825 15.675C6.7875 15.6187 6.75625 15.55 6.75625 15.475C6.75625 15.4 6.7875 15.3312 6.825 15.275C6.85 15.25 6.86875 15.2313 6.89375 15.2C7.375 14.6938 8.35 13.6687 8.4125 13.6062C8.49375 13.525 8.5625 13.4187 8.7125 13.4187C8.86875 13.4187 8.96875 13.55 9.04375 13.625C9.11875 13.7 11.8562 16.3312 11.8562 16.3312L18.8125 7.39375C18.875 7.34375 18.95 7.30625 19.0312 7.30625C19.1125 7.30625 19.1875 7.3375 19.25 7.3875L21.1625 8.89375C21.2125 8.95625 21.2437 9.03125 21.2437 9.1125C21.25 9.19375 21.2188 9.2625 21.1812 9.31875Z",fill:"#1D9D67"})})})},G=function(e){var t=e.italicState,n=e.resetIconState,a=e.setItalicState;return Object(A.jsx)("div",{onClick:function(){var e=t;n(),a(!e)},children:Object(A.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M4 0V2H6.58L2.92 10H0V12H8V10H5.42L9.08 2H12V0H4Z",fill:t?"var(--primary-color)":"black",fillOpacity:t?"1":"0.2"})})})},K=function(){return Object(A.jsx)("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M2.75774 0.666748H5.66683L3.72744 4.54554H5.66683L2.03047 11.3334L2.75774 6.48493H0.333496L2.75774 0.666748Z",fill:"white"})})},X=function(){return Object(A.jsx)("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M13.3518 6.686L6.75251 0.0866699L5.80984 1.02867L6.75318 1.972V1.97334L3.45318 5.272L3.45251 5.27334L2.50984 4.32934L1.56718 5.27267L4.39584 8.10067L0.624512 11.8713L1.56718 12.814L5.33851 9.04334L8.16718 11.8713L9.10984 10.9293L8.16718 9.986L11.4672 6.686L12.4098 7.62867L13.3518 6.686ZM7.22451 9.04267L7.22385 9.04334L4.39584 6.21467L7.69518 2.91467L10.5232 5.74267L7.22451 9.04267Z",fill:"#858688"})})},q=function(){return Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:Object(A.jsx)("path",{fill:"#fff",fillOpacity:"0.66",fillRule:"evenodd",d:"M2.7 6.95a4.25 4.25 0 117.306 2.954 1.001 1.001 0 00-.102.102A4.25 4.25 0 012.7 6.95zm7.906 5.07a6.25 6.25 0 111.414-1.414l2.987 2.987a1 1 0 11-1.414 1.414l-2.987-2.987z",clipRule:"evenodd"})})},Q=function(){return Object(A.jsx)("svg",{width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M0.5 12L13.5 6L0.5 0V4.66666L9.8125 6L0.5 7.33334V12Z",fill:"black",fillOpacity:"0.33"})})},W=function(){return Object(A.jsx)("svg",{width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M12.1848 13.5851C12.3269 13.6514 12.4785 13.684 12.6311 13.684C12.8722 13.684 13.1122 13.6008 13.3059 13.4398L19.6215 8.17672C19.8479 7.98725 19.9858 7.71252 19.9984 7.41674C20.0121 7.12095 19.9005 6.83359 19.691 6.62412L13.3753 0.308435C12.9638 -0.103137 12.2985 -0.103137 11.8869 0.308435L9.4733 2.72208L8.11227 1.36105C7.7007 0.949477 7.03545 0.949477 6.62387 1.36105L0.308191 7.67673C-0.103381 8.0883 -0.103381 8.75356 0.308191 9.16513L12.9396 21.7965L14.428 20.3081L7.80385 13.684L11.5785 9.90933V12.6314C11.5785 13.0398 11.8154 13.4114 12.1848 13.5851Z",fill:"white"})})},$=function(){return Object(A.jsx)("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M17.0903 16L21.3143 0.291999H17.9263L15.3523 11.116H15.3083L12.6243 0.291999H9.39031L6.6623 10.984H6.6183L4.1323 0.291999H0.678305L4.8363 16H8.3343L10.9523 5.308H10.9963L13.6583 16H17.0903Z",fill:"var(--primary-color)"})})},Y=function(e){var t=e.openEmojiPicker;return Object(A.jsx)("div",{onClick:t,style:{display:"flex"},children:Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:Object(A.jsx)("path",{fill:"#000",fillOpacity:"0.2",fillRule:"evenodd",d:"M1.6 8a6.4 6.4 0 1112.8 0A6.4 6.4 0 011.6 8zM8 0a8 8 0 100 16A8 8 0 008 0zM6 7.2a1.2 1.2 0 100-2.4 1.2 1.2 0 000 2.4zM11.2 6a1.2 1.2 0 11-2.4 0 1.2 1.2 0 012.4 0zM5.455 9.141a.8.8 0 10-1.31.918c.542.774 1.578 1.737 2.962 2.024 1.46.303 3.1-.184 4.688-1.948a.8.8 0 00-1.19-1.07C9.313 10.5 8.22 10.68 7.433 10.517c-.863-.18-1.586-.817-1.978-1.376z",clipRule:"evenodd"})})})},ee=function(e){var t=e.resetIconState,n=e.strikeThroughState,a=e.setStrikeThroughState;return Object(A.jsx)("div",{onClick:function(){var e=n;t(),a(!e)},children:Object(A.jsx)("svg",{width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M3.76889 5.11111C3.53778 4.68444 3.42222 4.19556 3.42222 3.62667C3.42222 3.08444 3.53778 2.59556 3.77778 2.14222C4.00889 1.69778 4.33778 1.31556 4.76444 0.995555C5.19111 0.684444 5.69778 0.435556 6.27556 0.257778C6.86222 0.0888889 7.51111 0 8.21333 0C8.93333 0 9.58222 0.0977777 10.1778 0.302222C10.7644 0.497778 11.2711 0.782222 11.68 1.13778C12.0978 1.49333 12.4178 1.92 12.64 2.40889C12.8622 2.89778 12.9778 3.43111 12.9778 4.01778H10.3022C10.3022 3.74222 10.2578 3.49333 10.1689 3.26222C10.0889 3.02222 9.95556 2.82667 9.77778 2.65778C9.6 2.48889 9.37778 2.36444 9.11111 2.26667C8.84444 2.17778 8.52444 2.12444 8.16889 2.12444C7.82222 2.12444 7.51111 2.16 7.25333 2.24C6.99556 2.32 6.78222 2.42667 6.61333 2.56C6.44444 2.70222 6.31111 2.86222 6.22222 3.04889C6.13333 3.23556 6.08889 3.43111 6.08889 3.63556C6.08889 4.06222 6.31111 4.41778 6.74667 4.71111C7.08444 4.93333 7.43111 5.13778 8 5.33333H3.90222C3.85778 5.26222 3.80444 5.18222 3.76889 5.11111ZM16 8V6.22222H0V8H8.55111C8.71111 8.06222 8.90667 8.12444 9.04 8.17778C9.36889 8.32889 9.62667 8.48 9.81333 8.63111C10 8.78222 10.1244 8.95111 10.1956 9.13778C10.2578 9.31556 10.2933 9.52 10.2933 9.75111C10.2933 9.95556 10.2489 10.1511 10.1689 10.3378C10.0889 10.5156 9.96445 10.6756 9.79556 10.8089C9.62667 10.9422 9.42222 11.04 9.16444 11.12C8.90667 11.1911 8.60444 11.2356 8.26667 11.2356C7.88444 11.2356 7.52889 11.2 7.21778 11.12C6.90667 11.04 6.63111 10.9156 6.40889 10.7467C6.18667 10.5778 6.00889 10.3556 5.88444 10.08C5.76 9.80444 5.66222 9.40444 5.66222 9.00445H3.02222C3.02222 9.49333 3.09333 10.0089 3.23556 10.4089C3.37778 10.8089 3.56444 11.1644 3.81333 11.4844C4.06222 11.7956 4.34667 12.0711 4.68444 12.3022C5.01333 12.5333 5.37778 12.7289 5.76889 12.88C6.16 13.0311 6.56889 13.1467 6.99556 13.2267C7.42222 13.2978 7.84889 13.3422 8.27556 13.3422C8.98667 13.3422 9.63556 13.2622 10.2133 13.0933C10.7911 12.9244 11.2889 12.6933 11.6978 12.3911C12.1067 12.0889 12.4267 11.7067 12.6489 11.2622C12.8711 10.8178 12.9867 10.3111 12.9867 9.74222C12.9867 9.20889 12.8978 8.72889 12.7111 8.31111C12.6667 8.21333 12.6133 8.10667 12.56 8.01778H16V8Z",fill:n?"var(--primary-color)":"black",fillOpacity:n?"1":"0.2"})})})},te=[h,v,b,p,m,O,g,x,f,_,C,w,y,N,L,I,S,k,E,H,M,T,P,V],ne=function(e){var t=e.chatClient,n=e.targetOrigin;Object(r.useEffect)((function(){var e,a=(e=n,function(t){window.parent.postMessage(t,e)}),i=function(e){var t,n=e.message;switch(e.type){case"reaction.new":a("react-to-message");break;case"message.new":if("giphy"===(null===n||void 0===n?void 0:n.command)){a("run-giphy");break}if(null===n||void 0===n||null===(t=n.attachments)||void 0===t?void 0:t.length){if("video"===n.attachments[0].type&&"https://youtu.be/Ujvy-DEA-UM"===n.attachments[0].og_scrape_url){a("send-youtube");break}if("image"===n.attachments[0].type){a("drag-drop-image");break}}if(null===n||void 0===n?void 0:n.parent_id){a("start-thread");break}a("send-message")}};return t&&t.on(i),function(){return null===t||void 0===t?void 0:t.off(i)}}),[t,n])},ae=n(7),ie=n(554),se=(n(264),n(13)),ce=n(10),re=n(542),le=n(215),de=n(214),oe=n(561),ue=n(9),je=n(216),he=n(558),ve=(n(265),function(e){var t=e.setPinsOpen,n=Object(se.b)().closeThread,a=Object(ue.b)().channel;return Object(A.jsxs)("div",{className:"pinned-messages__container",children:[Object(A.jsxs)("div",{className:"pinned-messages__header",children:[Object(A.jsx)("p",{className:"pinned-messages__header-text",children:"Pins"}),Object(A.jsx)(U,{closeThread:n,setPinsOpen:t})]}),Object(A.jsx)("div",{className:"pinned-messages__list",children:a.state.pinnedMessages.map((function(e){return Object(A.jsx)(je.a,{groupStyles:["single"],Message:he.a,message:e},e.id)}))})]})}),be=n(57),pe=(n(412),function(e){var t,n,a,i=e.setIsEditing,s=e.setPinsOpen,c=Object(ae.b)().client,r=Object(ue.b)(),l=r.channel,d=r.watcher_count,o=Object(se.b)().closeThread,u="# ".concat((null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.name)||(null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.id)||"random");return Object(A.jsxs)("div",{className:"team-channel-header__container",children:["messaging"===l.type?function(){var e=Object.values(l.state.members).filter((function(e){var t=e.user;return(null===t||void 0===t?void 0:t.id)!==c.userID})),t=e.length-3;return e.length?Object(A.jsxs)("div",{className:"team-channel-header__name-wrapper",children:[e.map((function(e,t){var n=e.user;return t>2?null:Object(A.jsxs)("div",{className:"team-channel-header__name-multi",children:[Object(A.jsx)(be.a,{image:null===n||void 0===n?void 0:n.image,name:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.id),size:32}),Object(A.jsx)("p",{className:"team-channel-header__name user",children:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.id)||"Johnny Blaze"})]},t)})),t>0&&Object(A.jsx)("p",{className:"team-channel-header__name user",children:"and ".concat(t," more")})]}):Object(A.jsxs)("div",{className:"team-channel-header__name-wrapper",children:[Object(A.jsx)(be.a,{image:null,size:32}),Object(A.jsx)("p",{className:"team-channel-header__name user",children:"Johnny Blaze"})]})}():Object(A.jsxs)("div",{className:"team-channel-header__channel-wrapper",children:[Object(A.jsx)("p",{className:"team-channel-header__name",children:u}),Object(A.jsx)("span",{style:{display:"flex"},onClick:function(){return i(!0)},children:Object(A.jsx)(B,{})})]}),Object(A.jsxs)("div",{className:"team-channel-header__right",children:[Object(A.jsx)("p",{className:"team-channel-header__right-text",children:(a=d,a?1===a?"1 user online":"".concat(a," users online"):"No users online")}),Object(A.jsxs)("div",{className:"team-channel-header__right-pin-wrapper",onClick:function(e){o&&o(e),s((function(e){return!e}))},children:[Object(A.jsx)(X,{}),Object(A.jsx)("p",{className:"team-channel-header__right-text",children:"Pins"})]})]})]})}),me=n(22),Oe=n(56),ge=n(54),xe=(n(413),function(e){var t=Object(r.useContext)(fe),n=t.giphyState,a=t.setGiphyState,i=Object(me.b)(),s=Object(r.useCallback)((function(e){var t=e.nativeEvent instanceof InputEvent&&"deleteContentBackward"===e.nativeEvent.inputType;1===i.text.length&&t&&a(!1),i.text.startsWith("/giphy")&&!n&&(e.target.value=e.target.value.replace("/giphy",""),a(!0)),i.handleChange(e)}),[n,i,a]),c=function(){return Object(A.jsxs)("div",{className:"giphy-icon__wrapper",children:[Object(A.jsx)(K,{}),Object(A.jsx)("p",{className:"giphy-icon__text",children:"GIPHY"})]})};return Object(A.jsxs)("div",{className:"thread-message-input__wrapper",children:[Object(A.jsxs)("div",{className:"thread-message-input__input",children:[n&&Object(A.jsx)(c,{}),Object(A.jsx)(Oe.a,{onChange:s,placeholder:"Reply"}),Object(A.jsx)("div",{className:"thread-message-input__icons",children:Object(A.jsx)(Y,{openEmojiPicker:i.openEmojiPicker})}),Object(A.jsx)("div",{className:"thread-message-input__button",role:"button","aria-roledescription":"button",onClick:i.handleSubmit,children:Object(A.jsx)(Q,{})})]}),Object(A.jsx)(ge.a,{})]})}),fe=l.a.createContext({}),_e=function(e){var t=e.pinsOpen,n=e.setIsEditing,a=e.setPinsOpen,i=Object(r.useState)(!1),l=Object(s.a)(i,2),o=l[0],u=l[1],j={giphyState:o,setGiphyState:u},h=Object(se.b)().sendMessage,v=Object(c.a)(Object(c.a)({},ce.d.team),{},{user:!0}),b=Object(c.a)(Object(c.a)({},ce.d.messaging),{},{user:!0}),p=Object(c.a)(Object(c.a)({},ce.d),{},{team:v,messaging:b});return Object(A.jsx)(fe.Provider,{value:j,children:Object(A.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(A.jsxs)(re.a,{children:[Object(A.jsx)(pe,{setIsEditing:n,setPinsOpen:a}),Object(A.jsx)(le.a,{disableQuotedMessages:!0,pinPermissions:p}),Object(A.jsx)(de.a,{grow:!0,overrideSubmitHandler:function(e){var t,n={attachments:e.attachments,mentioned_users:e.mentioned_users,parent_id:null===(t=e.parent)||void 0===t?void 0:t.id,parent:e.parent,text:e.text};if(o){var a="/giphy ".concat(e.text);n=Object(c.a)(Object(c.a)({},n),{},{text:a})}if(h){var i=h(n);Object(d.b)(i,"send message"),u(!1)}}})]}),Object(A.jsx)(oe.a,{additionalMessageInputProps:{grow:!0,Input:xe}}),t&&Object(A.jsx)(ve,{setPinsOpen:a})]})})},Ce=(n(414),function(){var e,t,n,a=Object(ae.b)(),i=a.channel,s=a.client,c=Object.values((null===i||void 0===i||null===(e=i.state)||void 0===e?void 0:e.members)||{}).filter((function(e){var t=e.user;return(null===t||void 0===t?void 0:t.id)!==s.userID}));return Object(A.jsxs)("div",{className:"channel-empty__container",children:["team"===(null===i||void 0===i?void 0:i.type)?Object(A.jsx)(J,{}):c.length?Object(A.jsx)("div",{className:"channel-empty__avatars",children:c.map((function(e,t){var n,a,i;return t>2?null:Object(A.jsx)(be.a,{image:null===(n=e.user)||void 0===n?void 0:n.image,name:(null===(a=e.user)||void 0===a?void 0:a.name)||(null===(i=e.user)||void 0===i?void 0:i.id),size:72},t)}))}):Object(A.jsx)(be.a,{size:72}),Object(A.jsxs)("p",{className:"channel-empty__first",children:["This is the beginning of your chat history","team"===(null===i||void 0===i?void 0:i.type)?" in ":" with ","team"===(null===i||void 0===i?void 0:i.type)?"#".concat((null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.name)||(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.id)):function(){var e,t,n,a,i,s;if(1===c.length)return Object(A.jsx)("span",{className:"channel-empty__user-name",children:"@".concat((null===(e=c[0].user)||void 0===e?void 0:e.name)||(null===(t=c[0].user)||void 0===t?void 0:t.id))});if(2===c.length)return Object(A.jsx)("span",{className:"channel-empty__user-name",children:"@".concat((null===(n=c[0].user)||void 0===n?void 0:n.name)||(null===(a=c[0].user)||void 0===a?void 0:a.id)," and @").concat((null===(i=c[1].user)||void 0===i?void 0:i.name)||(null===(s=c[1].user)||void 0===s?void 0:s.id))});var r="";return c.forEach((function(e,t){var n,a,i,s;t!==c.length-1?r="".concat(r,"@").concat((null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.name)||(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.id),", "):r="".concat(r," and @").concat((null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.name)||(null===e||void 0===e||null===(s=e.user)||void 0===s?void 0:s.id))})),Object(A.jsx)("span",{className:"channel-empty__user-name",children:r||"the Universe"})}(),"."]}),Object(A.jsx)("p",{className:"channel-empty__second",children:"Send messages, attachments, links, emojis, and more."})]})}),we=n(19),ye=n.n(we),Ne=n(31),Le=(n(415),n(68)),Ie=(n(416),function(e){var t=e.children;return Object(A.jsxs)("div",{className:"user-list__container",children:[Object(A.jsxs)("div",{className:"user-list__header",children:[Object(A.jsx)("p",{children:"User"}),Object(A.jsx)("p",{children:"Last Active"}),Object(A.jsx)("p",{children:"Invite"})]}),t]})}),Se=function(e){var t=e.index,n=e.setSelectedUsers,a=e.user,i=Object(r.useState)(!1),c=Object(s.a)(i,2),l=c[0],d=c[1];return Object(A.jsxs)("div",{className:"user-item__wrapper",onClick:function(){n(l?function(e){return null===e||void 0===e?void 0:e.filter((function(e){return e!==a.id}))}:function(e){return e?[].concat(Object(Le.a)(e),[a.id]):[a.id]}),d(!l)},children:[Object(A.jsxs)("div",{className:"user-item__name-wrapper",children:[Object(A.jsx)(be.a,{image:a.image,name:a.name||a.id,size:32}),Object(A.jsx)("p",{className:"user-item__name",children:a.name||a.id})]}),Object(A.jsx)("p",{className:"user-item__last-active",children:function(e){switch(e){case 0:return"12 min ago";case 1:return"27 min ago";case 2:return"6 hours ago";case 3:return"14 hours ago";case 4:default:return"Yesterday"}}(t)}),l?Object(A.jsx)(F,{}):Object(A.jsx)("div",{className:"user-item__invite-empty"})]})},ke=function(e){var t=e.filters,n=e.setSelectedUsers,a=Object(ae.b)().client,i=Object(r.useState)(!1),l=Object(s.a)(i,2),d=l[0],o=l[1],u=Object(r.useState)(!1),j=Object(s.a)(u,2),h=j[0],v=j[1],b=Object(r.useState)(!1),p=Object(s.a)(b,2),m=p[0],O=p[1],g=Object(r.useState)(),x=Object(s.a)(g,2),f=x[0],_=x[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(Ne.a)(ye.a.mark((function e(){var n;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return");case 2:return O(!0),e.prev=3,e.next=6,a.queryUsers(Object(c.a)({id:{$ne:a.userID||""}},t),{id:1},{limit:8});case 6:(n=e.sent).users.length?_(n.users):v(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),o(!0);case 13:O(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();a&&e()}),[t]),d?Object(A.jsx)(Ie,{children:Object(A.jsx)("div",{className:"user-list__message",children:"Error loading, please refresh and try again."})}):h?Object(A.jsx)(Ie,{children:Object(A.jsx)("div",{className:"user-list__message",children:"No users found."})}):Object(A.jsx)(Ie,{children:m?Object(A.jsx)("div",{className:"user-list__message",children:"Loading users..."}):(null===f||void 0===f?void 0:f.length)&&f.map((function(e,t){return Object(A.jsx)(Se,{index:t,setSelectedUsers:n,user:e},e.id)}))})},Ee=function(e){var t=e.channelName,n=void 0===t?"":t,a=e.setChannelName;return Object(A.jsxs)("div",{className:"channel-name-input__wrapper",children:[Object(A.jsx)("p",{children:"Name"}),Object(A.jsx)("input",{onChange:function(e){e.preventDefault(),a(e.target.value)},placeholder:"channel-name (no spaces)",type:"text",value:n}),Object(A.jsx)("p",{children:"Add Members"})]})},He=function(e){var t=e.createType,n=e.filters,a=e.setIsCreating,i=Object(ae.b)(),c=i.client,l=i.setActiveChannel,d=Object(r.useState)(""),o=Object(s.a)(d,2),u=o[0],j=o[1],h=Object(r.useState)([c.userID||""]),v=Object(s.a)(h,2),b=v[0],p=v[1],m=function(){var e=Object(Ne.a)(ye.a.mark((function e(n){var i;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),null===b||void 0===b?void 0:b.length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,c.channel(t,u,{name:u,members:b,demo:"team"});case 6:return i=e.sent,e.next=9,i.watch();case 9:j(""),a(!1),p([c.userID||""]),l(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:"create-channel__container",children:[Object(A.jsxs)("div",{className:"create-channel__header",children:[Object(A.jsx)("p",{children:"team"===t?"Create a New Channel":"Send a Direct Message"}),Object(A.jsx)(D,{setIsCreating:a})]}),"team"===t&&Object(A.jsx)(Ee,{channelName:u,setChannelName:j}),Object(A.jsx)(ke,{filters:n,setSelectedUsers:p}),Object(A.jsx)("div",{className:"create-channel__button-wrapper",onClick:m,children:Object(A.jsx)("p",{children:"team"===t?"Create Channel":"Create Message Group"})})]})},Me=(n(417),function(e){var t=e.channelName,n=void 0===t?"":t,a=e.setChannelName;return Object(A.jsxs)("div",{className:"channel-name-input__wrapper",children:[Object(A.jsx)("p",{children:"Name"}),Object(A.jsx)("input",{onChange:function(e){e.preventDefault(),a(e.target.value)},placeholder:"channel-name",type:"text",value:n}),Object(A.jsx)("p",{children:"Add Members"})]})}),Te=function(e){var t,n,a=e.filters,i=e.setIsEditing,c=Object(ae.b)().channel,l=Object(r.useState)((null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.name)||(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.id)),d=Object(s.a)(l,2),o=d[0],u=d[1],j=Object(r.useState)(),h=Object(s.a)(j,2),v=h[0],b=h[1],p=function(){var e=Object(Ne.a)(ye.a.mark((function e(t){var n,a,s;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(o!==((null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.name)||(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.id)))){e.next=5;break}return e.next=5,null===c||void 0===c?void 0:c.update({name:o},{text:"Channel name changed to ".concat(o)});case 5:if(!(null===v||void 0===v?void 0:v.length)){e.next=9;break}return s=v.map((function(e){return e})),e.next=9,null===c||void 0===c?void 0:c.addMembers(s);case 9:u(""),i(!1),b(void 0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:"edit-channel__container",children:[Object(A.jsxs)("div",{className:"edit-channel__header",children:[Object(A.jsx)("p",{children:"Edit Channel"}),Object(A.jsx)(D,{setIsEditing:i})]}),Object(A.jsx)(Me,{channelName:o,setChannelName:u}),Object(A.jsx)(ke,{filters:a,setSelectedUsers:b}),Object(A.jsx)("div",{className:"edit-channel__button-wrapper",onClick:p,children:Object(A.jsx)("p",{children:"Save Changes"})})]})},Pe=n(16),Ve=(n(418),function(e){var t=e.setPinsOpen,n=Object(Pe.b)(),a=n.handleOpenThread,i=n.message;return Object(A.jsx)("div",{className:i.pinned?"pinned-message":"unpinned-message",children:Object(A.jsx)(he.a,Object(c.a)(Object(c.a)({},e),{},{message:i,handleOpenThread:function(e){t&&t(!1),a(e)}}))})}),Ae=n(17),ze=n(53),Ze=(n(419),n(95)),Be=(n(420),function(e){var t=e.type,n=Object(ae.b)().client,a=Object(Ze.b)().typing;if(!n||!a)return null;if("list"===t)return Object(A.jsx)("div",{className:"typing-indicator__list",children:Object(A.jsxs)("div",{className:"dots",children:[Object(A.jsx)("div",{className:"dot"}),Object(A.jsx)("div",{className:"dot"}),Object(A.jsx)("div",{className:"dot"})]})});var i=Object.values(a).filter((function(e){var t,a=e.user;return(null===a||void 0===a?void 0:a.id)!==(null===(t=n.user)||void 0===t?void 0:t.id)})).map((function(e){var t=e.user;return(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.id)}));if(!i.length)return null;var s="Someone is typing";return 1===i.length?s="".concat(i[0]," is typing"):2===i.length?s="".concat(i[0]," and ").concat(i[1]," are typing"):i.length>2&&(s="".concat(i[0]," and ").concat(i.length-1," more are typing")),Object(A.jsxs)("div",{className:"typing-indicator__input",children:[Object(A.jsxs)("div",{className:"dots",children:[Object(A.jsx)("div",{className:"dot"}),Object(A.jsx)("div",{className:"dot"}),Object(A.jsx)("div",{className:"dot"})]}),Object(A.jsx)("div",{className:"typing-indicator__input__text",children:s})]})}),De=function(e){var t=e.pinsOpen,n=Object(r.useContext)(fe),a=n.giphyState,i=n.setGiphyState,c=Object(ue.b)(),l=c.acceptedFiles,d=c.channel,o=c.maxNumberOfFiles,u=c.multipleUploads,j=c.thread,h=Object(ae.b)().client,v=Object(r.useState)(!1),b=Object(s.a)(v,2),p=b[0],m=b[1],O=Object(r.useState)(!1),g=Object(s.a)(O,2),x=g[0],f=g[1],_=Object(r.useState)(!1),C=Object(s.a)(_,2),w=C[0],y=C[1],N=Object(r.useState)(!1),L=Object(s.a)(N,2),I=L[0],S=L[1],k=function(){m(!1),f(!1),y(!1),S(!1)},E=Object(me.b)(),H=Object(r.useCallback)((function(e){var t=e.target.value,n=e.nativeEvent instanceof InputEvent&&"deleteContentBackward"===e.nativeEvent.inputType;1===E.text.length&&n&&i(!1),a||!E.text.startsWith("/giphy")||E.numberOfUploads||(e.target.value=t.replace("/giphy",""),i(!0)),p?e.target.value=n?"".concat(t.slice(0,t.length-2),"**"):"**".concat(t.replace(/\**/g,""),"**"):x?e.target.value=n?"".concat(t.slice(0,t.length-1),"`"):"`".concat(t.replace(/`/g,""),"`"):w?e.target.value=n?"".concat(t.slice(0,t.length-1),"*"):"*".concat(t.replace(/\*/g,""),"*"):I&&(e.target.value=n?"".concat(t.slice(0,t.length-2),"~~"):"~~".concat(t.replace(/~~/g,""),"~~")),E.handleChange(e)}),[p,x,a,w,E,i,I]),M=function(){return Object(A.jsxs)("div",{className:"giphy-icon__wrapper",children:[Object(A.jsx)(K,{}),Object(A.jsx)("p",{className:"giphy-icon__text",children:"GIPHY"})]})};return Object(A.jsxs)("div",{className:"team-message-input__wrapper ".concat((!!j||t)&&"thread-open"),children:[Object(A.jsx)(Ae.d,{accept:l,handleFiles:E.uploadNewFiles,multiple:u,disabled:void 0!==o&&E.numberOfUploads>=o||a,children:Object(A.jsxs)("div",{className:"team-message-input__input",children:[Object(A.jsxs)("div",{className:"team-message-input__top",children:[a&&!E.numberOfUploads&&Object(A.jsx)(M,{}),Object(A.jsx)(ze.a,{}),Object(A.jsx)(Oe.a,{onChange:H,placeholder:"Message ".concat(function(){var e,t;if("team"===d.type)return"#".concat((null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.name)||(null===d||void 0===d||null===(t=d.data)||void 0===t?void 0:t.id)||"random");var n,a,i,s,c=Object.values(d.state.members).filter((function(e){var t=e.user;return(null===t||void 0===t?void 0:t.id)!==h.userID}));return c.length&&1!==c.length?"the group":(null===(n=c[0])||void 0===n||null===(a=n.user)||void 0===a?void 0:a.name)||(null===(i=c[0])||void 0===i||null===(s=i.user)||void 0===s?void 0:s.id)||"Johnny Blaze"}())}),Object(A.jsx)("div",{className:"team-message-input__button",role:"button","aria-roledescription":"button",onClick:E.handleSubmit,children:Object(A.jsx)(Q,{})})]}),Object(A.jsx)("div",{className:"team-message-input__bottom",children:Object(A.jsxs)("div",{className:"team-message-input__icons",children:[Object(A.jsx)(Y,{openEmojiPicker:E.openEmojiPicker}),Object(A.jsx)("div",{className:"icon-divider"}),Object(A.jsx)(Z,{boldState:p,resetIconState:k,setBoldState:m}),Object(A.jsx)(G,{italicState:w,resetIconState:k,setItalicState:y}),Object(A.jsx)(ee,{resetIconState:k,strikeThroughState:I,setStrikeThroughState:S}),Object(A.jsx)(R,{codeState:x,resetIconState:k,setCodeState:f})]})})]})}),Object(A.jsx)(Be,{type:"input"}),Object(A.jsx)(ge.a,{})]})},Ue=function(e){var t=e.closeThread,n=e.setPinsOpen,a=e.thread;return Object(A.jsxs)("div",{className:"custom-thread-header",children:[Object(A.jsxs)("div",{className:"custom-thread-header__left",children:[Object(A.jsx)("p",{className:"custom-thread-header__left-title",children:"Thread"}),Object(A.jsx)("p",{className:"custom-thread-header__left-count",children:(null===a||void 0===a?void 0:a.reply_count)?1===a.reply_count?"1 reply":"".concat(a.reply_count," Replies"):""})]}),Object(A.jsx)(U,{closeThread:t,setPinsOpen:n})]})},Re=function(e){var t=e.createType,n=e.isCreating,a=e.isEditing,i=e.setIsCreating,l=e.setIsEditing,d=Object(ae.b)().channel,o=Object(r.useState)(!1),u=Object(s.a)(o,2),j=u[0],h=u[1];if(n){return Object(A.jsx)("div",{className:"channel__container",children:Object(A.jsx)(He,{createType:t,filters:[],setIsCreating:i})})}if(a){var v,b=[];if(null===d||void 0===d||null===(v=d.state)||void 0===v?void 0:v.members){var p=Object.keys(d.state.members);p.length&&(b.id={$nin:p})}return Object(A.jsx)("div",{className:"channel__container",children:Object(A.jsx)(Te,{filters:b,setIsEditing:l})})}return Object(A.jsx)("div",{className:"channel__container",children:Object(A.jsx)(ie.a,{EmptyStateIndicator:Ce,Input:De,Message:function(e){return Object(A.jsx)(Ve,Object(c.a)(Object(c.a)({},e),{},{setPinsOpen:h}))},ThreadHeader:function(e){return Object(A.jsx)(Ue,Object(c.a)(Object(c.a)({},e),{},{setPinsOpen:h}))},TypingIndicator:function(){return null},children:Object(A.jsx)(_e,{pinsOpen:j,setIsEditing:l,setPinsOpen:h})})})},Je=n(555),Fe=(n(509),n(67)),Ge=n.n(Fe),Ke=(n(510),function(e){return void 0!==e.cid}),Xe=function(){var e=Object(Ne.a)(ye.a.mark((function e(t){var n,a,i,c,r,l,d,o;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,a=t.setActiveChannel,i=t.user,c={type:"messaging",member_count:2,members:{$eq:[i.id,n.userID||""]}},e.next=4,n.queryChannels(c);case 4:if(r=e.sent,l=Object(s.a)(r,1),!(d=l[0])){e.next=9;break}return e.abrupt("return",a(d));case 9:return o=n.channel("messaging",{members:[i.id,n.userID||""]}),e.abrupt("return",a(o));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(e){var t=e.focusedId,n=e.result,a=e.setChannel,i=Object(ae.b)(),s=i.client,c=i.setActiveChannel;if(Ke(n)){var r,l=n;return Object(A.jsxs)("div",{onClick:function(){return a(l)},className:t===l.id?"channel-search__result-container__focused":"channel-search__result-container",children:[Object(A.jsx)("div",{className:"result-hashtag",children:"#"}),Object(A.jsx)("p",{className:"channel-search__result-text",children:null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.name})]})}var d=n;return Object(A.jsx)("div",{onClick:Object(Ne.a)(ye.a.mark((function e(){return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xe({client:s,setActiveChannel:c,user:d});case 1:case"end":return e.stop()}}),e)}))),className:t===d.id?"channel-search__result-container__focused":"channel-search__result-container",children:Object(A.jsxs)("div",{className:"channel-search__result-user",children:[Object(A.jsx)(be.a,{image:d.image,name:d.name||d.id,size:24}),Object(A.jsx)("p",{className:"channel-search__result-text",children:d.name||d.id||"Johnny Blaze"})]})})},Qe=function(e){var t=e.teamChannels,n=e.directChannels,a=e.focusedId,i=e.loading,s=e.setChannel,c=e.setQuery;return document.addEventListener("click",(function(){return c("")})),Object(A.jsxs)("div",{className:"channel-search__results",children:[Object(A.jsx)("p",{className:"channel-search__results-header",children:"Channels"}),i&&!(null===t||void 0===t?void 0:t.length)&&Object(A.jsx)("p",{className:"channel-search__results-header",children:Object(A.jsx)("i",{children:"Loading..."})}),i||(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((function(e,t){return Object(A.jsx)(qe,{result:e,focusedId:a,setChannel:s},t)})):Object(A.jsx)("p",{className:"channel-search__results-header",children:Object(A.jsx)("i",{children:"No channels found"})}),Object(A.jsx)("p",{className:"channel-search__results-header",children:"Users"}),i&&!(null===n||void 0===n?void 0:n.length)&&Object(A.jsx)("p",{className:"channel-search__results-header",children:Object(A.jsx)("i",{children:"Loading..."})}),i||(null===n||void 0===n?void 0:n.length)?null===n||void 0===n?void 0:n.map((function(e,t){return Object(A.jsx)(qe,{result:e,focusedId:a,setChannel:s},t)})):Object(A.jsx)("p",{className:"channel-search__results-header",children:Object(A.jsx)("i",{children:"No direct messages found"})})]})},We=function(){var e=Object(ae.b)(),t=e.client,n=e.setActiveChannel,a=Object(r.useState)(),i=Object(s.a)(a,2),c=i[0],l=i[1],d=Object(r.useState)(),o=Object(s.a)(d,2),u=o[0],j=o[1],h=Object(r.useState)(),v=Object(s.a)(h,2),b=v[0],p=v[1],m=Object(r.useState)(),O=Object(s.a)(m,2),g=O[0],x=O[1],f=Object(r.useState)(""),_=Object(s.a)(f,2),C=_[0],w=_[1],y=Object(r.useState)(!1),N=Object(s.a)(y,2),L=N[0],I=N[1],S=Object(r.useState)(""),k=Object(s.a)(S,2),E=k[0],H=k[1],M=Object(r.useCallback)((function(e){if("ArrowDown"===e.key)x((function(e){return void 0===e||void 0===c||e===c.length-1?0:e+1}));else if("ArrowUp"===e.key)x((function(e){return void 0===e||void 0===c?0:0===e?c.length-1:e-1}));else if("Enter"===e.key){if(e.preventDefault(),void 0!==c&&void 0!==g){var a=c[g];Ke(a)?n(a):Xe({client:t,setActiveChannel:n,user:a})}x(void 0),w(""),H("")}}),[c,t,g,n]);Object(r.useEffect)((function(){return E&&document.addEventListener("keydown",M),function(){return document.removeEventListener("keydown",M)}}),[M,E]),Object(r.useEffect)((function(){E||(j([]),p([]))}),[E]),Object(r.useEffect)((function(){g&&g>=0&&c&&w(c[g].id||"")}),[c,g]);var T=function(){var e=Object(Ne.a)(ye.a.mark((function e(n){var a,i,c,r,d,o;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.queryChannels({type:"team",name:{$autocomplete:n}},{},{limit:5}),i=t.queryUsers({id:{$ne:t.userID||""},$and:[{name:{$autocomplete:n}},{name:{$nin:["Daniel Smith","Kevin Rosen","Jen Alexander"]}}]},{id:1},{limit:5}),e.next=5,Promise.all([a,i]);case 5:c=e.sent,r=Object(s.a)(c,2),d=r[0],o=r[1].users,d.length&&j(d),o.length&&p(o),l([].concat(Object(Le.a)(d),Object(Le.a)(o))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),H("");case 17:I(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),P=Ge()(T,100,{trailing:!0});return Object(A.jsxs)("div",{className:"channel-search__container",children:[Object(A.jsxs)("div",{className:"channel-search__input__wrapper",children:[Object(A.jsx)("div",{className:"channel-search__input__icon",children:Object(A.jsx)(q,{})}),Object(A.jsx)("input",{className:"channel-search__input__text",onChange:function(e){e.preventDefault(),I(!0),x(void 0),H(e.target.value),e.target.value&&P(e.target.value)},placeholder:"Search",type:"text",value:E})]}),E&&Object(A.jsx)(Qe,{teamChannels:u,directChannels:b,focusedId:C,loading:L,setChannel:function(e){H(""),n(e)},setQuery:H})]})},$e=(n(511),function(e){var t=e.children,n=e.error,a=void 0!==n&&n,i=e.loading,s=e.setCreateType,c=e.setIsCreating,r=e.setIsEditing,l=e.type;return a?"team"===l?Object(A.jsx)("div",{className:"team-channel-list",children:Object(A.jsx)("p",{className:"team-channel-list__message",children:"Connection error, please wait a moment and try again."})}):null:i?Object(A.jsx)("div",{className:"team-channel-list",children:Object(A.jsxs)("p",{className:"team-channel-list__message loading",children:["team"===l?"Channels":"Messages"," loading...."]})}):Object(A.jsxs)("div",{className:"team-channel-list",children:[Object(A.jsxs)("div",{className:"team-channel-list__header",children:[Object(A.jsx)("p",{className:"team-channel-list__header__title",children:"team"===l?"Channels":"Direct Messages"}),Object(A.jsx)(z,{setCreateType:s,setIsCreating:c,setIsEditing:r,type:"team"===l?"team":"messaging"})]}),t]})}),Ye=l.a.memo($e),et=(n(512),function(e){var t=e.channel,n=e.setActiveChannel,a=e.setIsCreating,i=e.setIsEditing,s=e.type,c=Object(ae.b)(),r=c.channel,l=c.client,d=function(){var e,n;return Object(A.jsxs)("p",{className:"channel-preview__item",children:["# ",(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.name)||(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.id)||"random"]})},o=function(){var e,n,a,i,s,c,r,d,o,u,j=Object.values(t.state.members).filter((function(e){var t=e.user;return(null===t||void 0===t?void 0:t.id)!==l.userID})),h="Johnny Blaze";if(!j.length||1===j.length){var v,b,p,m,O,g=j[0];return Object(A.jsxs)("div",{className:"channel-preview__item single",children:[Object(A.jsx)(be.a,{image:null===(v=g.user)||void 0===v?void 0:v.image,name:(null===(b=g.user)||void 0===b?void 0:b.name)||(null===(p=g.user)||void 0===p?void 0:p.id),size:24}),Object(A.jsx)("p",{children:(null===g||void 0===g||null===(m=g.user)||void 0===m?void 0:m.name)||(null===g||void 0===g||null===(O=g.user)||void 0===O?void 0:O.id)||h}),Object(A.jsx)(Be,{type:"list"})]})}return Object(A.jsxs)("div",{className:"channel-preview__item multi",children:[Object(A.jsx)("span",{children:Object(A.jsx)(be.a,{image:null===(e=j[0].user)||void 0===e?void 0:e.image,name:(null===(n=j[0].user)||void 0===n?void 0:n.name)||(null===(a=j[0].user)||void 0===a?void 0:a.id),size:18})}),Object(A.jsx)(be.a,{image:null===(i=j[1].user)||void 0===i?void 0:i.image,name:(null===(s=j[1].user)||void 0===s?void 0:s.name)||(null===(c=j[1].user)||void 0===c?void 0:c.id),size:18}),Object(A.jsxs)("p",{children:[(null===(r=j[0].user)||void 0===r?void 0:r.name)||(null===(d=j[0].user)||void 0===d?void 0:d.id)||h,","," ",(null===(o=j[1].user)||void 0===o?void 0:o.name)||(null===(u=j[1].user)||void 0===u?void 0:u.id)||h]})]})};return Object(A.jsx)("div",{className:(null===t||void 0===t?void 0:t.id)===(null===r||void 0===r?void 0:r.id)?"channel-preview__wrapper__selected":"channel-preview__wrapper",onClick:function(){a(!1),i(!1),n&&n(t)},children:"team"===s?Object(A.jsx)(d,{}):Object(A.jsx)(o,{})})}),tt=function(){return Object(A.jsxs)("div",{className:"channel-list__sidebar",children:[Object(A.jsx)("div",{className:"channel-list__sidebar__icon1",children:Object(A.jsx)("div",{className:"icon1__inner",children:Object(A.jsx)($,{})})}),Object(A.jsx)("div",{className:"channel-list__sidebar__icon2",children:Object(A.jsx)("div",{className:"icon2__inner",children:Object(A.jsx)(W,{})})})]})},nt=function(){return Object(A.jsx)("div",{className:"channel-list__header",children:Object(A.jsx)("p",{className:"channel-list__header__text",children:"Worksly"})})},at=function(e){return e.filter((function(e){return"team"===e.type}))},it=function(e){return e.filter((function(e){return"messaging"===e.type}))},st=function(e){var t=e.filters,n=e.options,a=e.setCreateType,i=e.setIsCreating,s=e.setIsEditing,r=e.sort;return Object(A.jsxs)("div",{className:"channel-list__container",children:[Object(A.jsx)(tt,{}),Object(A.jsxs)("div",{className:"channel-list__list__wrapper",children:[Object(A.jsx)(nt,{}),Object(A.jsx)(We,{}),Object(A.jsx)(Je.a,{channelRenderFilterFn:at,filters:t[0],options:n,sort:r,List:function(e){return Object(A.jsx)(Ye,Object(c.a)(Object(c.a)({},e),{},{setCreateType:a,setIsCreating:i,setIsEditing:s,type:"team"}))},Preview:function(e){return Object(A.jsx)(et,Object(c.a)(Object(c.a)({},e),{},{setIsCreating:i,setIsEditing:s,type:"team"}))}}),Object(A.jsx)(Je.a,{channelRenderFilterFn:it,filters:t[1],options:n,setActiveChannelOnMount:!1,sort:r,List:function(e){return Object(A.jsx)(Ye,Object(c.a)(Object(c.a)({},e),{},{setCreateType:a,setIsCreating:i,setIsEditing:s,type:"messaging"}))},Preview:function(e){return Object(A.jsx)(et,Object(c.a)(Object(c.a)({},e),{},{setIsCreating:i,setIsEditing:s,type:"messaging"}))}})]})]})},ct=new URLSearchParams(window.location.search),rt=ct.get("apikey")||"dz5f4d5kzrue",lt=ct.get("user")||"sweet-bush-0",dt=ct.get("theme")||"light",ot=ct.get("user_token")||"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoic3dlZXQtYnVzaC0wIiwiZXhwIjoxNjE5NzI0NTAyfQ.TK7Zk-SelqVFTa_dOdAzPBl1MkpOJcp5gf60gXrzVq4",ut=ct.get("target_origin")||Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STREAM_KEY:"dz5f4d5kzrue",REACT_APP_USER_ID:"sweet-bush-0",REACT_APP_USER_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoic3dlZXQtYnVzaC0wIiwiZXhwIjoxNjE5NzI0NTAyfQ.TK7Zk-SelqVFTa_dOdAzPBl1MkpOJcp5gf60gXrzVq4"}).REACT_APP_TARGET_ORIGIN,jt=new o.a({language:"en",translationsForLanguage:Object(c.a)({},u)}),ht=[{type:"team",demo:"team"},{type:"messaging",demo:"team"}],vt={state:!0,watch:!0,presence:!0,limit:3},bt={last_message_at:-1,updated_at:-1},pt=d.a.getInstance(rt,{enableInsights:!0,enableWSFallback:!0});pt.connectUser({id:lt,name:lt,image:function(){var e=Math.floor(24*Math.random()),t=te[e];return"string"===typeof t?t:""}()},ot);var mt=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),c=Object(s.a)(i,2),l=c[0],d=c[1],o=Object(r.useState)(!1),u=Object(s.a)(o,2),h=u[0],v=u[1];return ne({chatClient:pt,targetOrigin:ut}),Object(r.useEffect)((function(){var e=function(e){var t=document.documentElement;e.length&&7===e.length&&(t.style.setProperty("--primary-color","".concat(e,"E6")),t.style.setProperty("--primary-color-alpha","".concat(e,"1A")))};return window.addEventListener("message",(function(t){return e(t.data)})),function(){pt.disconnectUser(),window.removeEventListener("message",(function(t){return e(t.data)}))}}),[]),Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"app__wrapper",children:Object(A.jsxs)(j.a,{client:pt,i18nInstance:jt,theme:"team ".concat(dt),children:[Object(A.jsx)(st,{isCreating:l,filters:ht,options:vt,setCreateType:a,setIsCreating:d,setIsEditing:v,sort:bt}),Object(A.jsx)(Re,{createType:n,isCreating:l,isEditing:h,setIsCreating:d,setIsEditing:v})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(A.jsx)(mt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[523,1,2]]]);
//# sourceMappingURL=main.648df48b.chunk.js.map