(this.webpackJsonpteam=this.webpackJsonpteam||[]).push([[0],{220:function(e,t,n){},249:function(e,t,n){},261:function(e,t,n){},400:function(e,t,n){},403:function(e,t,n){},404:function(e,t,n){},405:function(e,t,n){},406:function(e,t,n){},407:function(e,t,n){},408:function(e,t,n){},409:function(e,t,n){},440:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(184),i=n.n(c),r=(n(220),n(25)),l=n(24),o=n.n(l),d=n(41),u=n(19),j=n(46),h=n(473),b=n(471),v=n(472),m=function(e,t){Object(a.useEffect)((function(){var n,a=(n=t,function(e){window.parent.postMessage(e,n)}),s=function(e){var t=e.message;switch(e.type){case"reaction.new":a("react-to-message");break;case"message.new":if(t&&"giphy"===t.command){a("run-giphy");break}if(t&&t.attachments&&t.attachments.length){if("video"===t.attachments[0].type&&"https://youtu.be/Ujvy-DEA-UM"===t.attachments[0].og_scrape_url){a("send-youtube");break}if("image"===t.attachments[0].type){a("drag-drop-image");break}}if(t&&t.parent_id){a("start-thread");break}a("send-message")}};return e&&e.on(s),function(){return null===e||void 0===e?void 0:e.off(s)}}),[e,t])},p=(n(248),n(249),n(119)),g=n(51),O=n(6),f=n(188),x=n.n(f),_=n.p+"static/media/photo-1438761681033-6461ffad8d80.613ac608.jpeg",w=n.p+"static/media/photo-1463453091185-61582044d556.3619e52a.jpeg",C=n.p+"static/media/photo-1503467913725-8484b65b0715.95ccd4b9.jpeg",N=n.p+"static/media/photo-1519345182560-3f2917c472ef.a2e6c02e.jpeg",y=n.p+"static/media/photo-1506089676908-3592f7389d4d.56a08c5d.jpeg",k=n.p+"static/media/photo-1507003211169-0a1dd7228f2d.63bee4f7.jpeg",L=n.p+"static/media/photo-1517202383675-eb0a6e27775f.4457c8ec.jpeg",E=n.p+"static/media/photo-1531251445707-1f000e1e87d0.be76211f.jpeg",S=n.p+"static/media/photo-1541271696563-3be2f555fc4e.24ecd158.jpeg",M=n.p+"static/media/photo-1542345812-d98b5cd6cf98.fc631d3d.jpeg",R=n.p+"static/media/photo-1546539782-6fc531453083.a7c849be.jpeg",z=n.p+"static/media/photo-1546623381-d6d69cd69955.84098cf1.jpeg",I=n.p+"static/media/photo-1546820389-44d77e1f3b31.879865ae.jpeg",T=n.p+"static/media/photo-1548946526-f69e2424cf45.c592c0d0.jpeg",Z=n.p+"static/media/photo-1549351236-caca0f174515.d2fd8a6e.jpeg",A=n.p+"static/media/photo-1551069613-1904dbdcda11.6380bd9d.jpeg",H=n.p+"static/media/photo-1554384645-13eab165c24b.f45d7937.jpeg",V=n.p+"static/media/photo-1569443693539-175ea9f007e8.da18bfdc.jpeg",q=n.p+"static/media/photo-1573140247632-f8fd74997d5c.79b738bd.jpeg",P=n.p+"static/media/photo-1546456073-6712f79251bb.a031da78.jpeg",U=n.p+"static/media/photo-1502378735452-bc7d86632805.905b3e52.jpeg",J=n.p+"static/media/photo-1546967191-fdfb13ed6b1e.f4b6002c.jpeg",B=n.p+"static/media/photo-1502937406922-305bb2789e95.647d289b.jpeg",D=n.p+"static/media/photo-1552058544-f2b08422138a.ebadf7d3.jpeg",F=n(2),K=function(e){var t=e.isEditing,n=e.setIsEditing;return Object(F.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",marginLeft:"16px"},onClick:function(){t||n(!0)},children:[Object(F.jsx)("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 8L13 6H11V8H13ZM13 10H11V18H13V10Z",fill:"white"})]})},X=function(){return Object(F.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",marginLeft:"16px"},children:[Object(F.jsx)("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3875 7.73454C15.9092 7.4584 15.2977 7.62228 15.0215 8.10057L11.3573 14.4472L8.62166 11.7116C8.23113 11.3211 7.59797 11.3211 7.20744 11.7116C6.81692 12.1022 6.81692 12.7353 7.20744 13.1259L10.8123 16.7307C10.8303 16.7487 10.8488 16.7658 10.8677 16.7821C10.9278 16.8418 10.9965 16.8948 11.0732 16.9392C11.5515 17.2153 12.1631 17.0514 12.4393 16.5731L16.7536 9.10057C17.0297 8.62228 16.8658 8.01069 16.3875 7.73454Z",fill:"white"})]})},G=function(e){var t=e.closeThread;return Object(F.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t,style:{cursor:"pointer",marginRight:"10px"},children:[Object(F.jsx)("path",{d:"M0 20C0 8.95431 8.95431 0 20 0C31.0457 0 40 8.95431 40 20C40 31.0457 31.0457 40 20 40C8.95431 40 0 31.0457 0 20Z",fill:"#3E3E41"}),Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.5625 25.4416L22.1208 20L27.5625 14.5583C28.15 13.9708 28.15 13.025 27.5625 12.4375C26.975 11.85 26.0291 11.85 25.4416 12.4375L20 17.8791L14.5583 12.4375C13.9708 11.85 13.025 11.85 12.4375 12.4375C11.85 13.025 11.85 13.9708 12.4375 14.5583L17.8791 20L12.4375 25.4416C11.85 26.0291 11.85 26.975 12.4375 27.5625C13.025 28.15 13.9708 28.15 14.5583 27.5625L20 22.1208L25.4416 27.5625C26.0291 28.15 26.975 28.15 27.5625 27.5625C28.1458 26.975 28.1458 26.025 27.5625 25.4416Z",fill:"#E9E9EA"})]})},Q=function(){return Object(F.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 17.9708H0V13.7278L13.435 0.292787C13.8255 -0.0975955 14.4585 -0.0975955 14.849 0.292787L17.678 3.12179C18.0684 3.51229 18.0684 4.14529 17.678 4.53579L6.243 15.9708H18V17.9708ZM2 15.9708H3.414L12.728 6.65679L11.314 5.24279L2 14.5568V15.9708ZM15.556 3.82879L14.142 5.24279L12.728 3.82879L14.142 2.41479L15.556 3.82879Z",fill:"#E9E9EA"})})},W=function(){return Object(F.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(F.jsxs)("g",{children:[Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2ZM0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10Z"}),Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7.5C9 8.32843 8.32843 9 7.5 9C6.67157 9 6 8.32843 6 7.5C6 6.67157 6.67157 6 7.5 6C8.32843 6 9 6.67157 9 7.5Z"}),Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7.5C14 8.32843 13.3284 9 12.5 9C11.6716 9 11 8.32843 11 7.5C11 6.67157 11.6716 6 12.5 6C13.3284 6 14 6.67157 14 7.5Z"}),Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.42662 11.1808C5.87907 10.8641 6.5026 10.9741 6.81932 11.4266C7.30834 12.1252 8.21252 12.9219 9.29096 13.1459C10.275 13.3503 11.6411 13.1262 13.2568 11.3311C13.6263 10.9206 14.2585 10.8873 14.6691 11.2567C15.0796 11.6262 15.1128 12.2585 14.7434 12.669C12.759 14.8738 10.7085 15.4831 8.88421 15.1041C7.15432 14.7448 5.8585 13.5415 5.18085 12.5735C4.86414 12.121 4.97417 11.4975 5.42662 11.1808Z"})]})})},Y=function(){return Object(F.jsx)("svg",{width:"16",height:"14",viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer",margin:"10px"},children:Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.333344H15.5V2.00001H0.5V0.333344ZM0.5 6.16667H15.5V7.83334H0.5V6.16667ZM15.5 12H0.5V13.6667H15.5V12Z",fill:"white"})})},$=function(){return Object(F.jsx)("svg",{width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(F.jsx)("path",{d:"M2.75749 0.666626H5.66659L3.72719 4.54541H5.66659L2.03022 11.3333L2.75749 6.48481H0.333252L2.75749 0.666626Z",fill:"white"})})},ee=function(){return Object(F.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 10C20 4.48 15.52 0 10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10ZM6 9H10V6L14 10L10 14V11H6V9Z",fill:"white"})})},te=function(){return Object(F.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.72472 8.39971L6.325 5L9.72472 1.60029C10.0918 1.23324 10.0918 0.642327 9.72472 0.275283C9.35767 -0.091761 8.76676 -0.091761 8.39971 0.275283L5 3.675L1.60029 0.275283C1.23324 -0.091761 0.642327 -0.091761 0.275283 0.275283C-0.091761 0.642327 -0.091761 1.23324 0.275283 1.60029L3.675 5L0.275283 8.39971C-0.091761 8.76676 -0.091761 9.35767 0.275283 9.72472C0.642327 10.0918 1.23324 10.0918 1.60029 9.72472L5 6.325L8.39971 9.72472C8.76676 10.0918 9.35767 10.0918 9.72472 9.72472C10.0892 9.35767 10.0892 8.76415 9.72472 8.39971Z",fill:"white"})})},ne=function(){return Object(F.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(F.jsx)("path",{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2Z",fill:"#858688"}),Object(F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7247 15.3997L13.325 12L16.7247 8.60029C17.0918 8.23324 17.0918 7.64233 16.7247 7.27528C16.3577 6.90824 15.7668 6.90824 15.3997 7.27528L12 10.675L8.60029 7.27528C8.23324 6.90824 7.64233 6.90824 7.27528 7.27528C6.90824 7.64233 6.90824 8.23324 7.27528 8.60029L10.675 12L7.27528 15.3997C6.90824 15.7668 6.90824 16.3577 7.27528 16.7247C7.64233 17.0918 8.23324 17.0918 8.60029 16.7247L12 13.325L15.3997 16.7247C15.7668 17.0918 16.3577 17.0918 16.7247 16.7247C17.0892 16.3577 17.0892 15.7642 16.7247 15.3997Z",fill:"white"})]})},ae=[_,w,C,N,y,k,L,E,S,M,R,z,I,T,Z,A,H,V,q,P,U,J,B,D],se=function(){var e=Math.floor(24*Math.random());return ae[e]},ce=function(e){var t,n,a,s=(null===(t=e.user)||void 0===t?void 0:t.image)||"";return-1===ae.indexOf(s)&&(s=se()),"Jen Alexander"===(null===(n=e.user)||void 0===n?void 0:n.name)&&(s=ae[11]),"Kevin Rosen"===(null===(a=e.user)||void 0===a?void 0:a.name)&&(s=ae[23]),s},ie=(n(261),function(e){var t=e.user;return Object(F.jsxs)("li",{className:"messaging-create-channel__user-result",children:[Object(F.jsx)(g.a,{image:t.image,size:40}),t.online&&Object(F.jsx)("div",{className:"messaging-create-channel__user-result-online"}),Object(F.jsx)("div",{className:"messaging-create-channel__user-result__details",children:Object(F.jsx)("span",{children:t.name})})]})}),re=function(e){var t=e.onClose,n=e.toggleMobile,s=Object(O.b)(),c=s.client,i=s.setActiveChannel,r=Object(a.useState)(),l=Object(u.a)(r,2),j=l[0],h=l[1],b=Object(a.useState)(""),v=Object(u.a)(b,2),m=v[0],g=v[1],f=Object(a.useState)(!1),_=Object(u.a)(f,2),w=_[0],C=_[1],N=Object(a.useState)(!1),y=Object(u.a)(N,2),k=y[0],L=y[1],E=Object(a.useState)(!1),S=Object(u.a)(E,2),M=S[0],R=S[1],z=Object(a.useState)([]),I=Object(u.a)(z,2),T=I[0],Z=I[1],A=Object(a.useState)([]),H=Object(u.a)(A,2),V=H[0],q=H[1],P=Object(a.useRef)(null),U=function(){g(""),C(!1),L(!1)};Object(a.useEffect)((function(){var e=function(){w&&U()};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[]);var J=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=2;break}return e.abrupt("return");case 2:return R(!0),e.prev=3,e.next=6,c.queryUsers({id:{$ne:c.userID},$and:[{name:{$autocomplete:m}}]},{id:1},{limit:6});case 6:(t=e.sent).users.length?(L(!1),q(t.users)):L(!0),C(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log({error:e.t0});case 14:R(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),B=x()(J,100,{trailing:!0});Object(a.useEffect)((function(){m&&B()}),[m]);var D=function(){var e=Object(d.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=T.map((function(e){return e.id}))).length&&c.userID){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,c.channel("messaging",{members:[].concat(Object(p.a)(n),[c.userID])});case 5:return a=e.sent,e.next=8,a.watch();case 8:null===i||void 0===i||i(a),Z([]),q([]),t();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(e){T.find((function(t){return t.id===e.id}))||(Z([].concat(Object(p.a)(T),[e])),C(!1),g(""),P.current&&P.current.focus())},X=Object(a.useCallback)((function(e){if("ArrowUp"===e.key&&h((function(e){return void 0===e?0:0===e?V.length-1:e-1})),"ArrowDown"===e.key&&h((function(e){return void 0===e||e===V.length-1?0:e+1})),"Enter"===e.key&&(e.preventDefault(),void 0!==j))return K(V[j]),h(void 0)}),[V,j]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",X,!1),function(){return document.removeEventListener("keydown",X)}}),[X]),Object(F.jsxs)("div",{className:"messaging-create-channel",children:[Object(F.jsxs)("header",{children:[Object(F.jsxs)("div",{className:"messaging-create-channel__left",children:[Object(F.jsx)("div",{className:"messaging-create-channel__left-text",children:"To: "}),Object(F.jsxs)("div",{className:"users-input-container",children:[!!(null===T||void 0===T?void 0:T.length)&&Object(F.jsx)("div",{className:"messaging-create-channel__users",children:T.map((function(e){return Object(F.jsxs)("div",{className:"messaging-create-channel__user",onClick:function(){return function(e){var t=T.filter((function(t){return t.id!==e.id}));Z(t),P.current&&P.current.focus()}(e)},children:[Object(F.jsx)("div",{className:"messaging-create-channel__user-text",children:e.name}),Object(F.jsx)(te,{})]},e.id)}))}),Object(F.jsx)("form",{children:Object(F.jsx)("input",{autoFocus:!0,ref:P,value:m,onChange:function(e){return g(e.target.value)},placeholder:T.length?"":"Start typing for suggestions",type:"text",className:"messaging-create-channel__input"})})]}),Object(F.jsx)("div",{className:"close-mobile-create",onClick:function(){return n()},children:Object(F.jsx)(ne,{})})]}),Object(F.jsx)("button",{className:"create-channel-button",onClick:D,children:"Start chat"})]}),m&&Object(F.jsx)("main",{children:Object(F.jsxs)("ul",{className:"messaging-create-channel__user-results",children:[!!(null===V||void 0===V?void 0:V.length)&&!k&&Object(F.jsx)("div",{children:V.map((function(e,t){return Object(F.jsx)("div",{className:"messaging-create-channel__user-result ".concat(j===t&&"focused"),onClick:function(){return K(e)},children:Object(F.jsx)(ie,{user:e})},e.id)}))}),k&&Object(F.jsx)("div",{onClick:function(){var e;null===(e=P.current)||void 0===e||e.focus(),U()},className:"messaging-create-channel__user-result empty",children:"No people found..."})]})})]})},le=s.a.memo(re),oe=n(199),de=(n(400),function(e){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(oe.a,Object(r.a)({},e))})}),ue=n(8),je=(n(403),n(92)),he=(n(404),function(){var e=Object(O.b)().client,t=Object(je.b)().typing;if(!e||!t)return null;var n=Object.values(t).filter((function(t){var n,a=t.user;return(null===a||void 0===a?void 0:a.id)!==(null===(n=e.user)||void 0===n?void 0:n.id)})).map((function(e){var t=e.user;return(null===t||void 0===t?void 0:t.name)||(null===t||void 0===t?void 0:t.id)})),a="";return 1===n.length?a="".concat(n[0]," is typing"):2===n.length?a="".concat(n[0]," and ").concat(n[1]," are typing"):n.length>2&&(a="".concat(n[0]," and ").concat(n.length-1," more are typing")),Object(F.jsxs)("div",{className:"messaging__typing-indicator",children:[a&&Object(F.jsxs)("div",{className:"dots",children:[Object(F.jsx)("span",{className:"dot"}),Object(F.jsx)("span",{className:"dot"}),Object(F.jsx)("span",{className:"dot"})]}),Object(F.jsx)("div",{children:a})]})}),be=function(e){var t=e.members;return 1===t.length?Object(F.jsxs)("div",{className:"messaging__channel-header__avatars",children:[Object(F.jsx)(g.a,{image:ce(t[0]),size:40}),";"]}):2===t.length?Object(F.jsxs)("div",{className:"messaging__channel-header__avatars two",children:[Object(F.jsx)("span",{children:Object(F.jsx)(g.a,{image:ce(t[0]),shape:"square",size:40})}),Object(F.jsx)("span",{children:Object(F.jsx)(g.a,{image:ce(t[1]),shape:"square",size:40})})]}):3===t.length?Object(F.jsxs)("div",{className:"messaging__channel-header__avatars three",children:[Object(F.jsx)("span",{children:Object(F.jsx)(g.a,{image:ce(t[0]),shape:"square",size:40})}),Object(F.jsxs)("span",{children:[Object(F.jsx)(g.a,{image:ce(t[1]),shape:"square",size:20}),Object(F.jsx)(g.a,{image:ce(t[2]),shape:"square",size:20})]})]}):t.length>=4?Object(F.jsxs)("div",{className:"messaging__channel-header__avatars four",children:[Object(F.jsxs)("span",{children:[Object(F.jsx)(g.a,{image:ce(t[t.length-1]),shape:"square",size:20}),Object(F.jsx)(g.a,{image:ce(t[t.length-2]),shape:"square",size:20})]}),Object(F.jsxs)("span",{children:[Object(F.jsx)(g.a,{image:ce(t[t.length-3]),shape:"square",size:20}),Object(F.jsx)(g.a,{image:ce(t[t.length-4]),shape:"square",size:20})]})]}):null},ve=function(e){var t,n=e.theme,s=e.toggleMobile,c=Object(O.b)().client,i=Object(ue.b)().channel,r=Object(a.useState)((null===(t=i.data)||void 0===t?void 0:t.name)||""),l=Object(u.a)(r,2),j=l[0],h=l[1],b=Object(a.useState)(!1),v=Object(u.a)(b,2),m=v[0],p=v[1],g=Object(a.useState)(""),f=Object(u.a)(g,2),x=f[0],_=f[1],w=Object(a.useRef)(null),C=Object.values(i.state.members||{}).filter((function(e){var t,n;return(null===(t=e.user)||void 0===t?void 0:t.id)!==(null===c||void 0===c||null===(n=c.user)||void 0===n?void 0:n.id)})),N=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j||j===(null===(t=i.data)||void 0===t?void 0:t.name)){e.next=3;break}return e.next=3,i.update({name:j},{text:"Channel name changed to ".concat(j)});case 3:p(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){m&&w.current&&(null===w||void 0===w||w.current.focus())}),[m]),Object(a.useEffect)((function(){j||_(C.map((function(e){var t,n;return(null===(t=e.user)||void 0===t?void 0:t.name)||(null===(n=e.user)||void 0===n?void 0:n.id)||"Unnamed User"})).join(", "))}),[j,C]);var y=function(){return Object(F.jsx)("form",{style:{flex:1},onSubmit:function(e){var t;e.preventDefault(),null===w||void 0===w||null===(t=w.current)||void 0===t||t.blur()},children:Object(F.jsx)("input",{autoFocus:!0,className:"channel-header__edit-input",onBlur:N,onChange:function(e){return h(e.target.value)},placeholder:"Type a new name for the chat",ref:w,value:j})})};return Object(F.jsxs)("div",{className:"messaging__channel-header",children:[Object(F.jsx)("div",{id:"mobile-nav-icon",className:"".concat(n),onClick:function(){return s()},children:Object(F.jsx)(Y,{})}),Object(F.jsx)(be,{members:C}),m?Object(F.jsx)(y,{}):Object(F.jsx)("div",{className:"channel-header__name",children:j||x}),Object(F.jsxs)("div",{className:"messaging__channel-header__right",children:[Object(F.jsx)(he,{}),"Social Demo"!==j&&(m?Object(F.jsx)(X,{}):Object(F.jsx)(K,{isEditing:m,setIsEditing:p}))]})]})},me=s.a.memo(ve),pe=(n(405),function(){return Object(F.jsx)("div",{style:{position:"relative"},children:Object(F.jsxs)("ul",{className:"skeleton-loader__list",children:[Object(F.jsxs)("li",{children:[Object(F.jsx)("div",{className:"skeleton-loader__avatar"}),Object(F.jsxs)("div",{className:"skeleton-loader__text",children:[Object(F.jsx)("div",{}),Object(F.jsx)("div",{})]})]}),Object(F.jsxs)("li",{children:[Object(F.jsx)("div",{className:"skeleton-loader__avatar"}),Object(F.jsxs)("div",{className:"skeleton-loader__text",children:[Object(F.jsx)("div",{}),Object(F.jsx)("div",{})]})]}),Object(F.jsxs)("li",{children:[Object(F.jsx)("div",{className:"skeleton-loader__avatar"}),Object(F.jsxs)("div",{className:"skeleton-loader__text",children:[Object(F.jsx)("div",{}),Object(F.jsx)("div",{})]})]}),Object(F.jsxs)("li",{children:[Object(F.jsx)("div",{className:"skeleton-loader__avatar"}),Object(F.jsxs)("div",{className:"skeleton-loader__text",children:[Object(F.jsx)("div",{}),Object(F.jsx)("div",{})]})]}),Object(F.jsxs)("li",{children:[Object(F.jsx)("div",{className:"skeleton-loader__avatar"}),Object(F.jsxs)("div",{className:"skeleton-loader__text",children:[Object(F.jsx)("div",{}),Object(F.jsx)("div",{})]})]})]})})}),ge=function(e){var t=e.children,n=e.error,s=void 0!==n&&n,c=e.loading,i=Object(O.b)(),r=i.client,l=i.setActiveChannel;return Object(a.useEffect)((function(){var e,n,a=function(){var e=Object(d.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.channel("messaging","first",{name:"Social Demo",demo:"social"}),e.next=3,n.watch();case 3:if(!t.user){e.next=6;break}return e.next=6,n.addMembers([t.user.id]);case 6:l(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();c||(null===t||void 0===t||null===(e=t.props)||void 0===e||null===(n=e.children)||void 0===n?void 0:n.length)||a(r)}),[c]),s?Object(F.jsx)("div",{className:"messaging__channel-list__message",children:"Error loading conversations, please try again momentarily."}):c?Object(F.jsx)("div",{className:"messaging__channel-list__message",children:Object(F.jsx)(pe,{})}):Object(F.jsx)(F.Fragment,{children:t})},Oe=s.a.memo(ge),fe=n.p+"static/media/stream.408c159b.png",xe=s.a.memo((function(e){var t=e.onCreateChannel,n=e.theme,a=Object(O.b)().client.user||{},s=a.id,c=a.image,i=void 0===c?fe:c,r=a.name,l=void 0===r?"Example User":r;return Object(F.jsx)("div",{className:"".concat(n," messaging__channel-list"),children:Object(F.jsxs)("div",{className:"messaging__channel-list__header",children:[Object(F.jsx)(g.a,{image:i,name:l,size:40}),Object(F.jsx)("div",{className:"".concat(n," messaging__channel-list__header__name"),children:l||s}),Object(F.jsx)("button",{className:"".concat(n," messaging__channel-list__header__button"),onClick:t,children:Object(F.jsx)(Q,{})})]})})})),_e=s.a.memo(xe),we=(n(406),function(e){var t=e.members;return 1===t.length?Object(F.jsx)(g.a,{image:ce(t[0]),size:40}):2===t.length?Object(F.jsxs)("div",{className:"channel-preview__avatars two",children:[Object(F.jsx)("span",{children:Object(F.jsx)(g.a,{image:ce(t[0]),shape:"square",size:40})}),Object(F.jsx)("span",{children:Object(F.jsx)(g.a,{image:ce(t[1]),shape:"square",size:40})})]}):3===t.length?Object(F.jsxs)("div",{className:"channel-preview__avatars three",children:[Object(F.jsx)("span",{children:Object(F.jsx)(g.a,{image:ce(t[0]),shape:"square",size:40})}),Object(F.jsxs)("span",{children:[Object(F.jsx)(g.a,{image:ce(t[1]),shape:"square",size:20}),Object(F.jsx)(g.a,{image:ce(t[2]),shape:"square",size:20})]})]}):t.length>=4?Object(F.jsxs)("div",{className:"channel-preview__avatars",children:[Object(F.jsxs)("span",{children:[Object(F.jsx)(g.a,{image:ce(t[t.length-1]),shape:"square",size:20}),Object(F.jsx)(g.a,{image:ce(t[t.length-2]),shape:"square",size:20})]}),Object(F.jsxs)("span",{children:[Object(F.jsx)(g.a,{image:ce(t[t.length-3]),shape:"square",size:20}),Object(F.jsx)(g.a,{image:ce(t[t.length-4]),shape:"square",size:20})]})]}):null}),Ce=function(e){var t,n,a=null===(t=e.state.last_message_at)||void 0===t?void 0:t.getHours(),s=null===(n=e.state.last_message_at)||void 0===n?void 0:n.getMinutes(),c="AM";return void 0===a||void 0===s?"":(a>12&&(a-=12,c="PM"),0===a&&(a=12),12===a&&(c="PM"),1===s.toString().length&&(s="0".concat(s)),"".concat(a,":").concat(s," ").concat(c))},Ne=function(e){var t,n,a,s,c,i,r="Johnny Blaze";return e.length&&1!==e.length?"".concat((null===(t=e[0])||void 0===t||null===(n=t.user)||void 0===n?void 0:n.name)||r,", ").concat((null===(a=e[1])||void 0===a||null===(s=a.user)||void 0===s?void 0:s.name)||r):(null===(c=e[0])||void 0===c||null===(i=c.user)||void 0===i?void 0:i.name)||r},ye=function(e){var t,n=e.channel,a=e.latestMessage,s=e.setActiveChannel,c=e.setIsCreating,i=Object(O.b)(),r=i.channel,l=i.client,o=Object.values(n.state.members).filter((function(e){var t=e.user;return(null===t||void 0===t?void 0:t.id)!==l.userID}));return Object(F.jsxs)("div",{className:(null===n||void 0===n?void 0:n.id)===(null===r||void 0===r?void 0:r.id)?"channel-preview__container selected":"channel-preview__container",onClick:function(){c(!1),null===s||void 0===s||s(n)},children:[Object(F.jsx)(we,{members:o}),Object(F.jsxs)("div",{className:"channel-preview__content-wrapper",children:[Object(F.jsxs)("div",{className:"channel-preview__content-top",children:[Object(F.jsx)("p",{className:"channel-preview__content-name",children:(null===(t=n.data)||void 0===t?void 0:t.name)||Ne(o)}),Object(F.jsx)("p",{className:"channel-preview__content-time",children:Ce(n)})]}),Object(F.jsx)("p",{className:"channel-preview__content-message",children:a||"Send a message"})]})]})},ke=n(202),Le=n(16),Ee=n(55),Se=n(58),Me=n(56),Re=(n(407),function(){return Object(F.jsxs)("div",{className:"giphy-icon__wrapper",children:[Object(F.jsx)($,{}),Object(F.jsx)("p",{className:"giphy-icon__text",children:"GIPHY"})]})}),ze=function(){var e=Object(a.useContext)(We),t=e.giphyState,n=e.setGiphyState,s=Object(ue.b)(),c=s.acceptedFiles,i=s.maxNumberOfFiles,r=s.multipleUploads,l=Object(Le.b)(),o=Object(a.useCallback)((function(e){var a=e.target.value,s=e.nativeEvent instanceof InputEvent&&"deleteContentBackward"===e.nativeEvent.inputType;1===l.text.length&&s&&n(!1),t||!l.text.startsWith("/giphy")||l.numberOfUploads||(e.target.value=a.replace("/giphy",""),n(!0)),l.handleChange(e)}),[t,l.numberOfUploads,l.text]);return Object(F.jsxs)("div",{className:"str-chat__messaging-input",children:[Object(F.jsxs)(ke.a,{accept:c,handleFiles:l.uploadNewFiles,multiple:r,disabled:void 0!==i&&l.numberOfUploads>=i||t,children:[Object(F.jsx)(Ee.a,{}),Object(F.jsxs)("div",{className:"messaging-input__container",children:[Object(F.jsx)("div",{className:"messaging-input__button emoji-button",role:"button","aria-roledescription":"button",onClick:l.openEmojiPicker,ref:l.emojiPickerRef,children:Object(F.jsx)(W,{})}),Object(F.jsxs)("div",{className:"messaging-input__input-wrapper",children:[t&&!l.numberOfUploads&&Object(F.jsx)(Re,{}),Object(F.jsx)(Se.a,{onChange:o,rows:1,placeholder:"Send a message"})]}),Object(F.jsx)("div",{className:"messaging-input__button",role:"button","aria-roledescription":"button",onClick:l.handleSubmit,children:Object(F.jsx)(ee,{})})]})]}),Object(F.jsx)(Me.a,{})]})},Ie=(n(408),function(e){var t=e.closeThread,n=e.thread;return Object(F.jsxs)("div",{className:"custom-thread-header",children:[Object(F.jsxs)("div",{className:"custom-thread-header__left",children:[Object(F.jsx)("p",{className:"custom-thread-header__left-title",children:"Thread"}),Object(F.jsx)("p",{className:"custom-thread-header__left-count",children:(null===n||void 0===n?void 0:n.reply_count)?1===n.reply_count?"1 reply":"".concat(n.reply_count," Replies"):""})]}),Object(F.jsx)(G,{closeThread:t})]})}),Te=(n(409),n(11)),Ze=n(455),Ae=n(200),He=n(201),Ve=n(474),qe=function(e){var t=e.theme,n=e.toggleMobile,s=Object(a.useContext)(We),c=s.giphyState,i=s.setGiphyState,l=Object(Te.b)().sendMessage;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(Ze.a,{children:[Object(F.jsx)(me,{theme:t,toggleMobile:n}),Object(F.jsx)(Ae.a,{messageActions:["delete","edit","flag","mute","react","reply"]}),Object(F.jsx)(He.a,{focus:!0,overrideSubmitHandler:function(e){var t,n,a;if((null===(t=e.attachments)||void 0===t?void 0:t.length)&&(null===(n=e.text)||void 0===n?void 0:n.startsWith("/giphy"))){var s=e.text.replace("/giphy","");a=Object(r.a)(Object(r.a)({},e),{},{text:s})}if(c){var o="/giphy ".concat(e.text);a=Object(r.a)(Object(r.a)({},e),{},{text:o})}if(l){var d,u,h,b=a||e,v=b.parent,m=Object(r.a)(Object(r.a)({},b),{},{parent:v?Object(r.a)(Object(r.a)({},v),{},{created_at:null===(d=v.created_at)||void 0===d?void 0:d.toString(),pinned_at:null===(u=v.pinned_at)||void 0===u?void 0:u.toString(),updated_at:null===(h=v.updated_at)||void 0===h?void 0:h.toString()}):void 0}),p=l(m);Object(j.b)(p,"send message")}i(!1)}})]}),Object(F.jsx)(Ve.a,{Input:ze})]})},Pe=new URLSearchParams(window.location.search),Ue=Pe.get("user")||"sweet-bush-0",Je=Pe.get("user_token")||"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoic3dlZXQtYnVzaC0wIiwiZXhwIjoxNjE5NzI0NTAyfQ.TK7Zk-SelqVFTa_dOdAzPBl1MkpOJcp5gf60gXrzVq4",Be=Pe.get("target_origin")||Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STREAM_KEY:"dz5f4d5kzrue",REACT_APP_USER_ID:"sweet-bush-0",REACT_APP_USER_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoic3dlZXQtYnVzaC0wIiwiZXhwIjoxNjE5NzI0NTAyfQ.TK7Zk-SelqVFTa_dOdAzPBl1MkpOJcp5gf60gXrzVq4"}).REACT_APP_TARGET_ORIGIN,De=Pe.get("no_channel_name_filter")||!1,Fe=Pe.get("skip_name_image_set")||!1,Ke=De?{type:"messaging",members:{$in:[Ue]}}:{type:"messaging",name:"Social Demo",demo:"social"},Xe={state:!0,watch:!0,presence:!0,limit:8},Ge={last_message_at:-1,updated_at:-1},Qe={id:Ue,name:Ue,image:se()};Fe&&(delete Qe.name,delete Qe.image);var We=s.a.createContext({}),Ye=function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),i=Object(u.a)(c,2),l=i[0],p=i[1],g=Object(a.useState)(!1),O=Object(u.a)(g,2),f=O[0],x=O[1],_=Object(a.useState)(!1),w=Object(u.a)(_,2),C=w[0],N=w[1],y=Object(a.useState)("dark"),k=Object(u.a)(y,2),L=k[0],E=k[1];m(n,Be),Object(a.useEffect)((function(){return function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.a.getInstance("dz5f4d5kzrue",{enableInsights:!0,enableWSFallback:!0}),e.next=3,t.connectUser(Qe,Je);case 3:s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){null===n||void 0===n||n.disconnectUser()}}),[]),Object(a.useEffect)((function(){var e=function(e){var t=e.data;e.origin===Be&&("light"!==t&&"dark"!==t||E(t))};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[]),Object(a.useEffect)((function(){var e=document.querySelector("#mobile-channel-list");C&&e?(e.classList.add("show"),document.body.style.overflow="hidden"):!C&&e&&(e.classList.remove("show"),document.body.style.overflow="auto")}),[C]),Object(a.useEffect)((function(){var e=function(){document.documentElement.style.setProperty("--app-height","".concat(window.innerHeight,"px"))};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var S=function(){return N(!C)},M={giphyState:l,setGiphyState:p};return n?Object(F.jsxs)(h.a,{client:n,theme:"messaging ".concat(L),children:[Object(F.jsxs)("div",{className:"messaging__sidebar",id:"mobile-channel-list",onClick:S,children:[Object(F.jsx)(_e,{onCreateChannel:function(){return x(!f)},theme:L}),Object(F.jsx)(b.a,{filters:Ke,sort:Ge,options:Xe,List:Oe,Preview:function(e){return Object(F.jsx)(ye,Object(r.a)(Object(r.a)({},e),{},{setIsCreating:x}))}})]}),Object(F.jsx)("div",{children:Object(F.jsxs)(v.a,{Input:ze,maxNumberOfFiles:10,Message:de,multipleUploads:!0,ThreadHeader:Ie,TypingIndicator:function(){return null},children:[f&&Object(F.jsx)(le,{toggleMobile:S,onClose:function(){return x(!1)}}),Object(F.jsx)(We.Provider,{value:M,children:Object(F.jsx)(qe,{theme:L,toggleMobile:S})})]})})]}):null};i.a.render(Object(F.jsx)(s.a.StrictMode,{children:Object(F.jsx)(Ye,{})}),document.getElementById("root"))}},[[440,1,2]]]);
//# sourceMappingURL=main.f0ddc933.chunk.js.map